<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
	<title>Merry Christmas</title>
<style type="text/css">
body, html {
  
  font-family: Helvetica, Arial, sans-serif;
  color: #fff;
  font-size: 11px;
  width: 100%;
  height: 100%;
  background: #c00;

  background: -moz-radial-gradient(center, ellipse cover, #c00 0%, #500 100%);
  background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,#c00), color-stop(100%,#500));
  background: -webkit-radial-gradient(center, ellipse cover, #c00 0%,#500 100%);
  background: -o-radial-gradient(center, ellipse cover, #c00 0%,#500 100%);
  background: -ms-radial-gradient(center, ellipse cover, #c00 0%,#500 100%);
  background: radial-gradient(center, ellipse cover, #c00 0%,#500 100%);
}

@-webkit-keyframes snow {
    0% { background-position: 0px 0px, 0px 0px, 0px 0px }
    /*50% { background-color: #b4cfe0 }*/
    100% {
        background-position: 500px 1000px, 400px 400px, 300px 300px;
        /*background-color: #6b92b9;*/
    }
}
@-moz-keyframes snow {
    0% { background-position: 0px 0px, 0px 0px, 0px 0px }
    /*50% { background-color: #b4cfe0 }*/
    100% {
        background-position: 500px 1000px, 400px 400px, 300px 300px;
        background-color: #6b92b9;
    }
}
@-ms-keyframes snow {
    0% { background-position: 0px 0px, 0px 0px, 0px 0px }
    /*50% { background-color: #b4cfe0 }*/
    100% {
        background-position: 500px 1000px, 400px 400px, 300px 300px;
        /*background-color: #6b92b9;*/
    }
}
@keyframes snow {
    0% { background-position: 0px 0px, 0px 0px, 0px 0px }
    /*50% { background-color: #b4cfe0 }*/
    100% {
        background-position: 500px 1000px, 400px 400px, 300px 300px;
        /*background-color: #6b92b9;*/
    }
}


body {
  -webkit-perspective: 5000px;
     -moz-perspective: 5000px;
      -ms-perspective: 5000px;
       -o-perspective: 5000px;
          perspective: 5000px;

  -webkit-perspective-origin: 0 20%;
     -moz-perspective-origin: 0 20%;
      -ms-perspective-origin: 0 20%;
       -o-perspective-origin: 0 20%;
          perspective-origin: 0 20%;

  -webkit-animation: snow 20s linear infinite;
     -moz-animation: snow 20s linear infinite;
      -ms-animation: snow 20s linear infinite;
          animation: snow 20s linear infinite;

  background-image: url('img/snow1.png'), url('img/snow2.png'), url('img/snow3.png');
}

/* 每一片树叶 */
.christmas { 
  background-image: url(data:image/png;base64,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);   /*树叶的小云朵*/
  background-repeat:  no-repeat;  /* 是否重复背景图像 */
  background-position:  50% -5px; /* 背景图片的起始位置 第一个值是水平位置，第二个值是垂直位置。*/
  background-size: 64px; /* 背景图片的尺寸 */
  opacity: 1; /* 透明度 1表示不透明*/
}  

/* CSS 动画 */
/* @keyframes 以百分比来规定改变发生的时间 或者from...to... */
/* transform 旋转DIV元素 rotateY(弧度值)定义沿着 Y 轴的 3D 旋转。*/
@keyframes spin { /* 用法： @keyframes 定义动画名称 {时长的百分比 {css-styles;}} */
  0%    { transform: rotateY( 0deg ); }   /*0% 相当于from 表示动画开始时间*/
  100%  { transform: rotateY( 360deg ); } /*100% 相当于to 表示动画结束时间*/
}
/* -webkit代表safari、chrome私有属性 */
@-webkit-keyframes spin {
  0%    { -webkit-transform: rotateY( 0deg ); } 
  100%  { -webkit-transform: rotateY( 360deg ); }
}
/* -moz代表firefox浏览器私有属性 */
@-moz-keyframes spin {
  0%   { -moz-transform: rotateY( 0deg ); }
  100% { -moz-transform: rotateY( 360deg ); }
}
/* -ms代表ie浏览器私有属性（360浏览器是ie内核） */
@-ms-keyframes spin {
  0%    { -ms-transform: rotateY( 0deg ); }
  100%  { -ms-transform: rotateY( 360deg ); }
}
/* -o代表opera私有属性 */
@-o-keyframes spin {
  0% { -o-transform: rotateY( 0deg ); }
  100% { -o-transform: rotateY( 360deg ); }
}


#tree {
  margin: 0 auto;
  position: relative;

  /* animation 将动画与DIV绑定 */
  /* 用法：animation 动画名称 花费时间 速度曲线 开始之前的延迟 播放次数 是否轮流反向播放*/
  -webkit-animation: spin 20s infinite linear;  /* infinite  使动画永远持续下去*/
  -moz-animation: spin 20s infinite linear;     /* linear 规定从开始到结束的速度相同的动画 */
  -ms-animation: spin 20s infinite linear;
  -o-animation: spin 20s infinite linear;
  animation: spin 20s infinite linear;

  /* transform-origin 设置旋转元素的基点位置 */
  -webkit-transform-origin: 50% 0;
  -moz-transform-origin: 50% 0;
  -ms-transform-origin: 50% 0;
  -o-transform-origin: 50% 0;
  transform-origin: 50% 0;

  /* transform-styl 如何在3D空间中呈现被嵌套的元素 */
  -webkit-transform-style: preserve-3d; /* flat：默认值，子元素将不保留其3D位置 - 相当于平面旋转，没有相对位置 */
  -moz-transform-style: preserve-3d;    /* preserve-3d：子元素将保留其3D位置。 */
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
}

#tree * {
  position: absolute;
  /* 旋转的起始位置 */
  -webkit-transform-origin: 0 0;
     -moz-transform-origin: 0 0;
      -ms-transform-origin: 0 0;
       -o-transform-origin: 0 0;
          transform-origin: 0 0;
}

#branch {
  text-overflow: ellipsis; /* text-overflow 文本溢出元素时，ellipsis使用省略符裁剪文本。 */
  white-space: nowrap; /* white-space 如何处理元素内的空白。 nowrap文本不会换行*/
  overflow: hidden; /* 超出部分隐藏 */
}

#text {
  padding-top: 6px;  /* 上内边框 */
  font-weight: bold; /* 属性设置文本的粗细。bold粗体*/
  /* 下面两行为了在 position: absolute;条件下，文本居中*/
  width:100%;
  text-align:center;
}


.star {
  border-color: #FFDE00 transparent transparent transparent;  /* 边框 上 右 下 左。transparent透明*/
  border-style: solid;                                        /* 边框样式 solid实线*/
  border-top-width: 35.21127px;                               /* 设置上边框的宽度 */
  border-right-width: 50px;                                   /* 设置右边框的宽度 */
  border-left-width: 50px;                                    /* 设置左边框的宽度 */
  height: 0;
  margin-top: 35.21127px;
  margin-bottom: 22.63581px;
  position: relative;
  width: 0;
}
.star:before, .star:after { /* 选择器 :before所有star之前，:after所有star之后 ---*/
  border-color: #FFDE00 transparent transparent transparent;
  border-style: solid;
  border-top-width: 35.21127px;
  border-right-width: 50px;
  border-left-width: 50px;
  content: '';
  display: block;
  height: 0;
  left: -50px;
  position: absolute;
  top: -35.21127px;
  width: 0;
}
.star:before {
  -webkit-transform: rotate(70deg); /* rotate 2D旋转 */
          transform: rotate(70deg);
}
.star:after {
  -webkit-transform: rotate(-70deg);
          transform: rotate(-70deg);
}
.star {
  left: 200px;  /* 星星的位置--与树叶在一起 */
  top: 10px;
}
.title {
  font-size: 72px;
  font-weight: bold;
  width: 100%;
  text-align: center;
  top: 150px;
  word-spacing: 50px;
  position: relative;
}

.poem {
  font-size: 24px;
}

.poem,
.footer {
  position: relative;
  top: 200px;
  width: 100%;
  text-align: center;
}

.footer{
	border-top: 1px solid #eee;
	margin-top:20px;
  margin-bottom:50px;
}

</style>
</head>
<body>
<audio controls loop autoplay>
  <source src="audio/we.wish.you.1.mp3" type="audio/mpeg">
</audio>

<div id="tree">
	<div class="star"></div>
</div>
<!-- <div class="title">我 爱 你</div> -->

<div class="poem">
 <p>祝我的娄宝：&emsp;&emsp;&emsp;&emsp;</p>
 <p>圣诞节快乐！</p>
 <p>元旦快乐！</p>
 <p>春节快乐！</p>
 <p>天天快乐！</p>
 <p>早日暴富！</p>
 <p></p>
</div>
<div class="footer">
 
 <p> &copy 2021 Shi Yunlong </script>
</div>

</body>
</html>

<script type="text/javascript">

	var str13 = ["爱","宝","娄","迎","曦","娄宝","宝贝","爱你","爱宝","么么","亲亲","抱抱", '我爱你','小宝贝','我想你']; 
  var str45 = ["温暖如你。",
              "我心中有你。",
              "我最喜欢你。",
              "有你，真好。",
              "有你就幸福。",]
  var str711 = ["你是我要的甜。",
              "我一见你就笑。",
              "你笑起来真好看。",
              "愿得一人，白首不离。", 
              "你在的时候，你是一切。", 
              "遇见你是最美丽的意外。", 
              "心甘情愿感染你的气息。",
              "我喜欢的样子，你都有。"];
  var str1214 = ["你不在的时候，一切是你。", 
                "我只会一天比一天更爱你。",
                "只要看见你我就会笑得很甜。", 
                "今夜我不关心人类，我只想你。",
                "年年月月逝去越是觉得深爱你。"]; 
  var str1519 = ["喜欢被你抓住手的感觉，好幸福。", 
                "我想简单的抱着你，感受你的体温。", 
                "愿有岁月可回首，且以深情共白头。",
                "你最近真讨厌，讨人喜欢，百看不厌。",
                "你是我的鬼迷心窍，只有我自己知道。",
                "我说我想你了，你就来见我，好不好？",
                "一见倾心，再见倾情，我爱你，此生不渝。"]; 
  var str2022 = ["我的世界因为你闪亮，我的生活因你而疯狂。",
                "以你之名，冠我之姓，一生一世，不离不弃。", 
                "我愿意花去生命中的每一分每一秒，陪着你。", 
                "属于我们闪闪发亮的爱情，我们再一起努力。", 
                "陪你笑，陪你累，我们相依偎，陪你走完一生。", 
                "爱旳路上酸甜苦辣和你在一起，幸福直到永远。", 
                "无论世间多少荆棘，只要有你，生活就无比甜蜜。"];

	if (!String.prototype.format) {
	  String.prototype.format = function() {
	    var args = arguments;
	    return this.replace(/{(\d+)}/g, function(match, number) { 
	      return typeof args[number] != 'undefined'
	        ? args[number]
	        : match
	      ;
	    });
	  };
	}

	function transform( element, value ) {
		element.style.WebkitTransform = value;
		element.style.MozTransform = value;
		element.style.msTransform = value;
		element.style.OTransform = value;
		element.style.transform = value;
	}

	function getRandom(min, max) {
	    return Math.floor(Math.random() * (max - min + 1) + min);
	}


	function createBranch(width, height) {
		div = document.createElement( 'div' );
		span = document.createElement( 'span' );
    // 叶片的宽度取值[15, 292.778)
    if(width > 264){
      // 只能显示 <=22 个字
      s = str2022[getRandom(0, str2022.length - 1)];
    }else if(width > 228){
      // 只能显示 <=19 个字
      s = str1519[getRandom(0, str1519.length - 1)];
    }else if(width > 168){
      // 只能显示 <=14 个字
      s = str1214[getRandom(0, str1214.length - 1)];
    }else if(width > 132){
      // 只能显示 <=11 个字
      s = str711[getRandom(0, str711.length - 1)];
    }else if(width > 60){
      // 只能显示 <=5 个字
      s = str45[getRandom(0, str45.length - 1)];
    }else{
      // 只能显示 <=3 个字
      s = str13[getRandom(0, str13.length - 1)];
    }
		
		text = document.createTextNode(s); 

		div.setAttribute("id", "branch");
    div.setAttribute("class", "christmas");
		span.setAttribute("id", "text");
		
  	span.appendChild(text);
  	div.appendChild(span);

		div.style.width = width + 'px';
		div.style.height = height + 'px';
		var green = 50+Math.ceil(Math.random() * 200);
		var other = Math.ceil(Math.random() * 50);
		// console.log("rgba("+other+","+green+","+other+", 1)");
		div.style.backgroundColor = "rgba("+other+","+green+","+other+", 1)";
		//div.style.position = "relative";
		return div;
	}
		
	var width = 500;
	var height = 600;
	var tree = document.getElementById("tree");
	tree.style.width = width + 'px';
	tree.style.height = height + 'px';
	//tree.style.margin = "auto";
	//tree.style.background = "#fefefe";

	for ( i = 0; i<300; i++) {
		var top_margin = 70;
		var x = width/2;
		var y = Math.round( Math.random() * height ) + top_margin; // 随机生成[0,1)的数据,所以y的范围是[top_margin, height+top_margin)
		var rx = 0;
		var ry = Math.random() * 360;
		var rz = 0;//-Math.random() * 15;
		var elementWidth = 15 + ( ( (y - top_margin ) / height ) * width / 1.8 ); // 叶片的宽度取值[15, 292.778)
		var elementHeight = 26;

		var div =  createBranch(elementWidth, elementHeight);

    // 设置div元素旋转的属性
		transform(div, 'translate3d('+x+'px, '+y+'px, 0px) rotateX('+rx+'deg) rotateY('+ry+'deg) rotateZ('+rz+'deg)');
	  	tree.appendChild( div ); 
  	}

</script>
